function msgOK(){$("#statusBox").html(""),$("#statusBox").html('<div class="alert alert-success d-block"><i class="fas fa-thumbs-up fa-lg"></i> '+msgOkFields+"</div>")}function errorMsg(a){$("#statusBox").html(""),$("#statusBox").html('<div class="alert alert-danger"><i class="fal fa-exclamation-triangle"></i> '+msgEmptyFields+"</div>")}function errorMsgServer(a){$("#statusBox").html(""),$("#statusBox").html('<div class="alert alert-danger"><i class="fal fa-exclamation-triangle"></i> Server Error: '+a+"</div>")}var flags=0,flagName=0,flagPhone=0,flagEmail=0,flagEmailConf=0,flagEmailMatch=0,flagMessage=0,flagRecaptcha=0,errors=0;function ckFlags(){return 0==(flags=flagName+flagPhone+flagEmail+flagEmailConf+flagEmailMatch+flagMessage+flagRecaptcha)?(msgOK(),!0):(errorMsg(flags),!1)}var vcc=function(a){$(".inputCaptcha").removeClass("d-block").addClass("d-none"),flagRecaptcha=0,ckFlags()};$(document).ready(function(){$("#formContacto"),$("input[name=genPass]"),$("input[name=lang]");var a=$("input[name=inputNombre]"),e=$("input[name=inputEmail]"),l=$("input[name=inputEmailConf]"),s=($("input[name=inputTelefono]"),$("textarea[name=inputMensaje]"),new Array("inputNombre","inputTelefono","inputEmail","inputEmailConf"));function t(a){switch(a){case"inputNombre":return ckField(a,msgNameEmpty,alfaRegex,msgAlfaRegex,1,0)?(flagName=0,ckFlags(),!0):(flagName=1,ckFlags(),!1);case"inputTelefono":return ckField(a,msgPhoneEmpty,phoneRegex,msgPhoneRegex,0,0)?(flagPhone=0,ckFlags(),!0):(flagPhone=1,ckFlags(),!1);case"inputEmail":if(ckField(a,msgEmailEmpty,emailRegex,msgEmailRegex,0,1)){if(!0,l.val()&&e.val()){if(e.val()!==l.val())return $(".inputEmail").html(msgEmailMatch),$(".inputEmailConf").html(msgEmailMatch),e.removeClass("is-valid").addClass("is-invalid"),l.removeClass("is-valid").addClass("is-invalid"),flagEmailMatch=2,ckFlags(),!1;$(".inputEmailConf").html(""),$(".inputEmail").html(""),l.removeClass("is-invalid").addClass("is-valid"),e.removeClass("is-invalid").addClass("is-valid"),flagEmailMatch=0}return flagEmail=0,ckFlags(),!0}return flagEmail=1,ckFlags(),!1;case"inputEmailConf":if(ckField(a,msgEmailEmpty,emailRegex,msgEmailRegex,0,1)){if(e.val()&&l.val()){if(l.val()!==e.val())return $(".inputEmailConf").html(msgEmailMatch),$(".inputEmail").html(msgEmailMatch),l.removeClass("is-valid").addClass("is-invalid"),e.removeClass("is-valid").addClass("is-invalid"),flagEmailMatch=2,ckFlags(),!1;$(".inputEmailConf").html(""),$(".inputEmail").html(""),l.removeClass("is-invalid").addClass("is-valid"),e.removeClass("is-invalid").addClass("is-valid"),flagEmailMatch=0}return flagEmailConf=0,ckFlags(),!0}return flagEmailConf=1,ckFlags(),!1}}function i(a){return ckTextarea(a,msgMsgEmpty,msgMsgRegex)?(flagMessage=0,ckFlags(),!0):(flagMessage=1,ckFlags(),!1)}$("input").keyup(function(){fieldName=$(this).attr("name"),t(fieldName)}).blur(function(){fieldName=$(this).attr("name"),t(fieldName)}),$("select").change(function(){fieldName=$(this).attr("name"),t(fieldName)}),$("textarea").keyup(function(){fieldName=$(this).attr("name"),i(fieldName)}).blur(function(){fieldName=$(this).attr("name"),i(fieldName)}),$("#formContacto").submit(function(e){!function(){for(counter=0;counter<s.length;++counter)t(s[counter]);i("inputMensaje")}();var l=grecaptcha.getResponse();if(0==l.length||flags>0)0==l.length?($(".inputCaptcha").removeClass("d-none").addClass("d-block"),flagRecaptcha=1):($(".inputCaptcha").removeClass("d-block").addClass("d-none"),flagRecaptcha=0),ckFlags();else{$("#statusBox").html("<div class='alert alert-info'>"),$("#statusBox > .alert-info").append('<i class="fal fa-spinner fa-spin"></i> '+a.val()+msgSending),$("#statusBox > .alert-info").append("</div>");var n=$("form#formContacto").serialize();$.ajax("../../assets/includes/config/contactForm/sendEmail.php",{type:"POST",data:n,dataType:"json",encode:!0,success:function(a,e,l){grecaptcha.reset(),a.errors.success&&($("#formContacto")[0].reset(),window.location.href=thankYouPage),a.errors.error&&(errorMsgServer(a.errors.count),a.errors.captcha&&$(".inputCaptcha").removeClass("d-none").addClass("d-block"))},error:function(a,e,l){$("#statusBox").html("Error: "+l),setTimeout(function(){location.reload()},5e3)}})}e.preventDefault()})});