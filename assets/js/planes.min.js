var vcc=function(e){$(".inputCaptcha").removeClass("d-block").addClass("d-none")};$(document).ready(function(){var e=$("input[name=genPass]"),a=$("input[name=lang]"),t=$("input[name=inputCkDominio]"),s=$("input[name=inputDominio]"),i=$("select[name=selectEstado]"),n=$("input[name=estadoDominio]"),l=$("select[name=selectPago]"),o=$("input[name=inputNombre]"),r=($("input[name=inputApellido]"),$("input[name=inputEmail]")),c=$("input[name=inputEmailConf]"),u=($("input[name=inputTelefono]"),$("input[name=inputEmpresa]"),$("input[name=inputEmpresaId]"),$("textarea[name=inputDireccion]"),$("select[name=selectProvincia]")),m=$("select[name=selectCanton]"),d=($("select[name=selectDistrito]"),$("select[name=selectPais]")),p=0;function v(e,a){m.html(""),m.attr("disabled",!1),m.append($("<option></option>",{value:"",text:selCounty}));for(var t=s_b[a].split("|"),s=0;s<t.length;s++)m.append($("<option></option>",{value:t[s],text:t[s]}))}function f(e){u.html(""),u.append($("<option></option>",{value:"",text:selState}));for(var a=s_a[e].split("|"),t=0;t<a.length;t++)u.append($("<option></option>",{value:a[t],text:a[t]}))}for(var g=0;g<countries.length;g++)if(d.append($("<option></option>",{value:countries[g],text:countries[g]})),"Costa Rica"==countries[g]){var h=g+1,C="Costa Rica";f(g+1),m.append($("<option></option>",{value:"",text:selCounty}))}function E(e){$("#statusBox").html(""),$("#statusBox").html('<div class="alert alert-danger"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><i class="fal fa-exclamation-triangle"></i> '+msgAlert1+e+msgAlert2+"</div>")}function x(e){switch(e){case"inputCkDominio":case"inputDominio":return!!ckField(e,msgDomainEmpty,domainRegex,msgDomainRegex,0,1);case"selectEstado":return!!ckSelected(e,msgDomainSelect);case"inputNombre":return!!ckField(e,msgNameEmpty,alfaRegex,msgAlfaRegex,1,0);case"inputApellido":return!!ckField(e,msgLastnameEmpty,alfaRegex,msgAlfaRegex,1,0);case"inputTelefono":return!!ckField(e,msgPhoneEmpty,phoneRegex,msgPhoneRegex,0,0);case"inputEmail":if(ckField(e,msgEmailEmpty,emailRegex,msgEmailRegex,0,1)){if(c.val()&&r.val()){if(r.val()!==c.val())return $(".inputEmail").html(msgEmailMatch),$(".inputEmailConf").html(msgEmailMatch),r.removeClass("is-valid").addClass("is-invalid"),c.removeClass("is-valid").addClass("is-invalid"),!1;$(".inputEmailConf").html(""),$(".inputEmail").html(""),c.removeClass("is-invalid").addClass("is-valid"),r.removeClass("is-invalid").addClass("is-valid")}return!0}return!1;case"inputEmailConf":if(ckField(e,msgEmailEmpty,emailRegex,msgEmailRegex,0,1)){if(r.val()&&c.val()){if(c.val()!==r.val())return $(".inputEmailConf").html(msgEmailMatch),$(".inputEmail").html(msgEmailMatch),c.removeClass("is-valid").addClass("is-invalid"),r.removeClass("is-valid").addClass("is-invalid"),!1;$(".inputEmailConf").html(""),$(".inputEmail").html(""),c.removeClass("is-invalid").addClass("is-valid"),r.removeClass("is-invalid").addClass("is-valid")}return!0}return!1;case"inputEmpresa":return!!ckField(e,msgCompanyEmpty,mensajeRegex,msgMsgRegex,0,0);case"inputEmpresaId":return!!ckField(e,msgCompanyIDEmpty,mensajeRegex,msgMsgRegex,0,0);case"selectPago":return!!ckSelected(e,msgPMSel);case"selectPais":return!!ckSelected(e,msgCountrySel);case"selectProvincia":return!!ckSelected(e,msgStateSel);case"selectCanton":if(m.attr("disabled",!1))return!!ckSelected(e,msgCountySel)}}function y(e){switch(e){case"inputDireccion":return!!ckTextarea(e,msgAddressEmpty,msgMsgRegex)}}function b(){$("#resultadoBusqueda").html('<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation-triangle"></i> '+msgDomainEmptyFirst+"</div>"),setTimeout(function(){$("#resultadoBusqueda").html(""),t.focus()},2500)}d.val("Costa Rica"),d.addClass("is-valid"),d.change(function(){C=$(this).val(),u.html("");for(var e=0;e<countries.length;e++)if(countries[e]==C){f(e+1)}m.attr("disabled",!0),m.html(""),m.append($("<option></option>",{value:"",text:selCounty}))}),u.change(function(){if(m.html(""),m.append($("<option></option>",{value:"",text:selCounty})),"Costa Rica"==C){selectedState=$(this).val();for(var e=s_a[h].split("|"),a=0;a<e.length;a++){if(e[a]==selectedState)v(0,a+1)}}}),$("input").keyup(function(){x($(this).attr("name"))}).blur(function(){x($(this).attr("name"))}),$("select").change(function(){x($(this).attr("name"))}),$("textarea").keyup(function(){y($(this).attr("name"))}).blur(function(){y($(this).attr("name"))}),t.keyup(function(){$("#resultadoBusqueda").html(""),$("select[name=selectEstado]").val($("select[name=selectEstado] option:first").val())}),i.change(function(){s.val(""),$("#solicitarPlan").show(),$("#successMsg").html("");var i=$("select[name=selectEstado]").val();if($("#buscando").html(""),$("#resultadoBusqueda").html(""),"registrar"!==i){if(n.val(""),""==t.val())return b(),!1;"registrado"==i&&(s.val(t.val()),s.removeClass("is-invalid").addClass("is-valid"),n.val("registrado"),$([document.documentElement,document.body]).animate({scrollTop:$("#comprar").offset().top-127},1e3),l.focus())}else{if(n.val("registrar"),""==t.val())return b(),!1;$("#buscando").html("<div class='alert alert-info'>"),$("#buscando > .alert-info").append('<i class="fas fa-spinner fa-spin"></i> '+msgDomainSearch+" <strong>"+t.val()+"</strong>"),$("#buscando > .alert-info").append("</div>");var o="domain="+t.val()+"&lang="+a.val()+"&genPass="+e.val();$.ajax("../../../assets/includes/paquete/whoisX.php",{type:"POST",data:o,dataType:"json",success:function(e,a,i){$("#buscando").html(""),$("#resultadoBusqueda").html(e.errors.success),s.val(t.val()),s.removeClass("is-invalid").addClass("is-valid"),$("a.seguir").click(function(e){$([document.documentElement,document.body]).animate({scrollTop:$("#comprar").offset().top-127},1e3),l.focus(),e.preventDefault()}),e.errors.available||($("a.buscarOtro").click(function(e){$("#resultadoBusqueda").html(""),$("#buscando").html(""),t.val(""),t.focus(),$('select[name=selectEstado] option[value=""]').attr("selected",!0),e.preventDefault()}),$("a.domainReg").click(function(e){var a=$(this).attr("name");t.val(a),s.val(a),s.removeClass("is-invalid").addClass("is-valid"),$("#resultadoBusqueda").html('<div class="alert alert-success" role="alert"><i class="fal fa-smile"></i> '+msgDomainAvailable+"</p>"),e.preventDefault()}))},error:function(e,a,t){$("#resultadoBusqueda").html('<div class="alert alert-danger" role="alert"><i class="fal fa-exclamation-triangle"></i> '+msgError+" Error: "+t+"</div>"),setTimeout(function(){$("#resultadoBusqueda").html(""),$("#buscando").html("")},5e3)}})}event.preventDefault()}),$("form#solicitarPlan").submit(function(e){fieldsToVal=new Array("inputCkDominio","inputDominio","selectEstado","selectPago","inputNombre","inputApellido","inputTelefono","inputEmail","inputEmailConf","inputEmpresa","inputEmpresaId","selectPais","selectProvincia","selectCanton");var a=grecaptcha.getResponse();for(counter=0;counter<fieldsToVal.length;++counter)x(fieldsToVal[counter])||(p+=1);if(y("inputDireccion")||(p+=1),0==a.length||p>0)0==a.length?($(".inputCaptcha").removeClass("d-none").addClass("d-block"),p+=1):$(".inputCaptcha").removeClass("d-block").addClass("d-none"),E(p),setTimeout(function(){p=0,$("#statusBox").html("")},4500);else{$("#statusBox").html("<div class='alert alert-info'>"),$("#statusBox > .alert-info").append('<i class="fal fa-spinner fa-spin"></i> '+o.val()+msgSending),$("#statusBox > .alert-info").append("</div>");var t=$("form#solicitarPlan").serialize();$.ajax("../../../assets/includes/paquete/solicitarPaquete.php",{type:"POST",data:t,dataType:"json",encode:!0,success:function(e,a,t){grecaptcha.reset(),e.errors.success&&($("#ckDominio")[0].reset(),$("#solicitarPlan")[0].reset(),window.location.href="../gracias/"),e.errors.error&&(E(e.errors.count),e.errors.captcha&&$(".inputCaptcha").removeClass("d-none").addClass("d-block"),setTimeout(function(){$("#statusBox").html("")},1e4))},error:function(e,a,t){$("#statusBox").html("Se di√≥ el siguiente error: "+t),setTimeout(function(){location.reload()},5e3)}})}e.preventDefault()})});